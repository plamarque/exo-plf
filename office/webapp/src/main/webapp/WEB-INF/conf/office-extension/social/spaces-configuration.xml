<?xml version="1.0" encoding="UTF-8"?>
<!--

    Copyright (C) 2003-2010 eXo Platform SAS.

    This program is free software; you can redistribute it and/or
    modify it under the terms of the GNU Affero General Public License
    as published by the Free Software Foundation; either version 3
    of the License, or (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program; if not, see<http://www.gnu.org/licenses/>.

-->
<configuration
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://www.exoplaform.org/xml/ns/kernel_1_1.xsd http://www.exoplaform.org/xml/ns/kernel_1_1.xsd"
   xmlns="http://www.exoplaform.org/xml/ns/kernel_1_1.xsd">

	<component>
		<key>org.exoplatform.social.core.space.spi.SpaceService</key>
		<type>org.exoplatform.social.core.space.impl.SpaceServiceImpl</type>
		<init-params>
			<!-- Configure the applications to install in a space -->
			<values-param>
				<name>space.homeNodeApp</name>
				<value>SpaceActivityStreamPortlet</value>
			</values-param>
			<!-- Configure removable application or not <value>Application:removable</value> -->
			<values-param>
				<name>space.apps</name>
				<value>DashboardPortlet:true</value>
				<value>SpaceSettingPortlet:false</value>
				<value>MembersPortlet:true</value>
				<value>CalendarPortlet:true</value>
				<value>ForumPortlet:true</value>
				<value>AnswersPortlet:true</value>
				<value>FileExplorerPortlet:true</value>
			</values-param>
		</init-params>
	</component>
	<external-component-plugins>
		<target-component>org.exoplatform.social.core.space.spi.SpaceService</target-component>
		<component-plugin>
			<name>ContactDataInitialize</name>
			<set-method>addSpaceListener</set-method>
			<type>org.exoplatform.platform.listeners.NewSpaceListener</type>
			<init-params>
				<value-param>
					<name>portletName</name>
					<value>FileExplorerPortlet</value>
				</value-param>
				<!-- This parameter determines which occurence of page, that have this selected "portletName", should get the portlet preferences Set -->
				<value-param>
					<name>pageIndex</name>
					<value>0</value>
				</value-param>
				<properties-param>
					<name>portletPreferences</name>
					<description>FileExplorerPortlet Preferences</description>
					<property name="usecase" value="jailed"/>
					<property name="driveName" value="{modifiedGroupId}"/>
					<property name="repository" value="repository"/>
				</properties-param>
			</init-params>
		</component-plugin>
	</external-component-plugins>
</configuration>
